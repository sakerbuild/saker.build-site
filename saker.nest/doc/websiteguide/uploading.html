<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Uploading bundles&nbsp;|&nbsp;saker.nest</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/>
	
	<link rel="stylesheet" href="../../../res/bootstrap.min.css" >
	<link rel="stylesheet" href="../../../res/doc-saker.css" >

	<script type="application/ld+json">
	{
	  "@context": "https://schema.org",
	  "@type": "WebSite",
	  "name": "saker.nest",
	  "url": "https://saker.build/saker.nest"
	}
	</script>
</head>
<body data-nav-location="packagedoc" data-subdoc-presence="nest-package packagedoc javadoc">
<div class="doc-nav-bar">
	<div class="container">
		<a class="home-link" href="../../index.html" title="saker.nest"><img style="height: 2.5em;" class="logo" src="../../../res/logo.svg"/><span class="page-name">saker.nest</span></a>
		<a class="nav-location-item" data-nav-location="doc-docs" href="../../doc/index.html" title="Documentation">Documentation</a>
		<a class="nav-location-item" data-nav-location="doc-taskdoc" href="../../taskdoc/index.html" title="Build task documentation">TaskDoc</a>
		<a class="nav-location-item" data-nav-location="doc-javadoc" href="../../javadoc/index.html"title="Java API documentation">JavaDoc</a>
		<div class="nav-bar-controls">
			<label class="d-xl-none nav-bar-collapse" for="collapse-nav-bar-label">
				<svg style="height: 1.5em;" viewBox="0 0 24 24">
				    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
				</svg>
			</label>
			<input style="display:none;" id="collapse-nav-bar-label" type="checkbox"/>
			<div class="nav-bar-items">
				<a href="/" title="saker.build home page">Home</a>
				<a href="/buildtrace.html" title="Build trace viewer">Build trace</a>
				<a style="display:none;" href="/sponsor.html" title="Sponsoring development">Sponsor</a>
				<a href="/blog/" title="saker.build system blog">Blog</a>
				<a class="no-external-icon" href="https://github.com/sakerbuild/saker.build" title="saker.build GitHub repository">GitHub</a>
			</div>
		</div>
	</div>
</div>
<div class="container page-contents packagedoc">
	<div class="row">
		<div class="col-12 col-lg-3 col-xl-2 p-lg-0">
			<div class="doc-navigation-container">
				<label class="d-lg-none nav-collapse" for="doc-collapse-nav-label">
					<svg style="height: 1.5em;" viewBox="0 0 24 24">
					    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
					</svg>
					Navigation
				</label>
				<input style="display:none;" id="doc-collapse-nav-label" type="checkbox"/> 
				<div class="doc-nav">  <div class="doc-section"><ul><li><a class="doc-nav-section-link" href="../../index.html" title="Index">Index</a></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Introduction</p><ul><li><a class="doc-nav-section-link" href="../index.html" title="Overview">Overview</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_0"><a class="doc-nav-section-link" href="../installation.html" title="Installation">Installation</a></label><input style="display:none;" id="_doc_collapse_id_0" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_0"></label><ul><li><a class="doc-nav-section-link" href="../releasearchive.html" title="Release archive">Release archive</a></li></ul></li><li><a class="doc-nav-section-link" href="../roadmap.html" title="Roadmap">Roadmap</a></li></ul>  </div>  <div class="doc-section">    <p class="section-title">User guide</p><ul><li><a class="doc-nav-section-link" href="../userguide/index.html" title="Repository structure">Repository structure</a></li><li><a class="doc-nav-section-link" href="../userguide/buildtasks.html" title="Build tasks">Build tasks</a></li><li><a class="doc-nav-section-link" href="../userguide/versioning.html" title="Versioning">Versioning</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_1"><a class="doc-nav-section-link" href="../userguide/configuration.html" title="Runtime configuration">Runtime configuration</a></label><input style="display:none;" id="_doc_collapse_id_1" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_1"></label><ul><li><a class="doc-nav-section-link" href="../userguide/serverstorage.html" title="Server storage">Server storage</a></li><li><a class="doc-nav-section-link" href="../userguide/localstorage.html" title="Local storage">Local storage</a></li><li><a class="doc-nav-section-link" href="../userguide/paramsstorage.html" title="Parameter storage">Parameter storage</a></li><li><a class="doc-nav-section-link" href="../userguide/constraints.html" title="Constraint properties">Constraint properties</a></li></ul></li><li><a class="doc-nav-section-link" href="../userguide/localbundles.html" title="Local bundles">Local bundles</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_2"><a class="doc-nav-section-link" href="../userguide/cmdlineref/index.html" title="Command line reference">Command line reference</a></label><input style="display:none;" id="_doc_collapse_id_2" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_2"></label><ul><li><a class="doc-nav-section-link" href="../userguide/cmdlineref/main.html" title="main">main</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_3"><a class="doc-nav-section-link" href="../userguide/cmdlineref/local.html" title="local">local</a></label><input style="display:none;" id="_doc_collapse_id_3" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_3"></label><ul><li><a class="doc-nav-section-link" href="../userguide/cmdlineref/local_install.html" title="install">install</a></li></ul></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_4"><a class="doc-nav-section-link" href="../userguide/cmdlineref/server.html" title="server">server</a></label><input style="display:none;" id="_doc_collapse_id_4" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_4"></label><ul><li><a class="doc-nav-section-link" href="../userguide/cmdlineref/server_upload.html" title="upload">upload</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_5"><a class="doc-nav-section-link" href="../userguide/cmdlineref/server_index.html" title="index">index</a></label><input style="display:none;" id="_doc_collapse_id_5" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_5"></label><ul><li><a class="doc-nav-section-link" href="../userguide/cmdlineref/server_index_update.html" title="update">update</a></li></ul></li></ul></li><li><a class="doc-nav-section-link" href="../userguide/cmdlineref/version.html" title="version">version</a></li></ul></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Repository website</p><ul><li><a class="doc-nav-section-link" href="index.html" title="Overview">Overview</a></li><li><a class="doc-nav-section-link" href="naming.html" title="Naming">Naming</a></li><li class="doc-active doc-active-parent"><a class="doc-nav-section-link" href="uploading.html" title="Uploading bundles">Uploading bundles</a></li><li><a class="doc-nav-section-link" href="publishing.html" title="Publishing">Publishing</a></li><li><a class="doc-nav-section-link" href="descriptions.html" title="Descriptions">Descriptions</a></li><li><a class="doc-nav-section-link" href="faq.html" title="FAQ">FAQ</a></li><li><a class="doc-nav-section-link" href="repository_api.html" title="Repository web API">Repository web API</a></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Development guide</p><ul><li><a class="doc-nav-section-link" href="../devguide/index.html" title="Overview">Overview</a></li><li><a class="doc-nav-section-link" href="../devguide/bundleformat.html" title="Bundle format">Bundle format</a></li><li><a class="doc-nav-section-link" href="../devguide/dependencies.html" title="Dependencies">Dependencies</a></li><li><a class="doc-nav-section-link" href="../devguide/classpath.html" title="Bundle classpath">Bundle classpath</a></li><li><a class="doc-nav-section-link" href="../devguide/dependencyhell.html" title="Dependency hell">Dependency hell</a></li><li><a class="doc-nav-section-link" href="../devguide/tasks.html" title="Build tasks">Build tasks</a></li><li><a class="doc-nav-section-link" href="../devguide/runtimeaccess.html" title="Accessing the repository runtime">Accessing the repository runtime</a></li><li><a class="doc-nav-section-link" href="../devguide/testing.html" title="Integration testing">Integration testing</a></li></ul>  </div></div>
			</div>
		</div>
		<div class="col-12 col-lg-9 col-xl-10 doc-page">
			<div class="doc-breadcrumb">
				<ol itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a itemscope itemtype="https://schema.org/WebPage" itemprop="item" href="../../index.html" title="saker.nest" itemid="/saker.nest/index.md"><span itemprop="name">saker.nest</span></a><meta itemprop="position" content="1" /></li> &rsaquo; <li><span title="Repository website">Repository website</span></li> &rsaquo; <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a itemscope itemtype="https://schema.org/WebPage" itemprop="item" href="uploading.html" title="Uploading bundles" itemid="/saker.nest/doc/websiteguide/uploading.md"><span itemprop="name">Uploading bundles</span></a><meta itemprop="position" content="2" /></li></ol>
			</div>
			<div class="sb-sponsors" style="display: none;">
	<span class="sb-sponsors-title">Sponsors</span>
	<div class="container">
		<div class="row">
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
		</div>
	</div>
</div>
			<div class="doc-content"><h1 id="uploading-bundles">Uploading bundles<a class="doc-heading-anchor" href="#uploading-bundles"></a></h1>
<p>After allocating your package name, you'll need to upload the bundles that you want to publish on saker.nest. Bundles can't be uploaded directly through the website, but you need to use the saker.build system to upload a bundle. The bundle uploading can be done in two ways, either during build execution, or via repository actions. In both cases, you'll need the upload API keys for the package.</p>
<p>Bundles can only be uploaded to versions which are not yet published. If the uploaded bundle is the first one to be part of a given package release, a new version entry will be created on the package management page.</p>
<h2 id="api-keys">API keys<a class="doc-heading-anchor" href="#api-keys"></a></h2>
<p>The API keys are used to authorize the bundle upload network request with the saker.nest API server. The keys are used to sign the uploaded bundle contents and the server will verify that the uploader can upload bundles for the given package.</p>
<p>You can view your API keys in the Bundles page of your created package. The API keys are in <a href="https://tools.ietf.org/html/rfc4648" title="RFC 4648 - The Base16, Base32, and Base64 Data Encodings">URL encoded Base64</a> format and their contents are implementation dependent.</p>
<h3 id="regenerating-api-keys">Regenerating API keys<a class="doc-heading-anchor" href="#regenerating-api-keys"></a></h3>
<p>You can use the <em>Regenerate API keys</em> button on the website to regenerate the API keys for bundle uploading. This can be useful if you accidentally misplace your keys or upload them to a public hosting sites like GitHub. Note that even if somebody gets access to your API keys, they won't be able to publish the uploaded bundles without logging in to your account.</p>
<p>After the keys have been regenerated, the previous ones will stop working.</p>
<h2 id="build-execution">Build execution<a class="doc-heading-anchor" href="#build-execution"></a></h2>
<p>You can use the <a href="../../../nest.repository.support/taskdoc/nest.server.upload.html"><code>nest.server.upload()</code></a> task to upload your created bundle during build execution. The task takes the path to the uploaded bundle via the <code>Bundle</code> parameter, and the API keys using the <code>APIKey</code> and <code>APISecret</code> paramters.</p>
<p>You can specify whether or not to <code>Overwrite</code> already uploaded (but not yet published) bundles, and the <code>Server</code> to upload the bundle(s) to. The server defaults to the main API server at: <code>https://api.nest.saker.build</code>.</p>
<h2 id="repository-action">Repository action<a class="doc-heading-anchor" href="#repository-action"></a></h2>
<p>Repository actions can be used to upload the bundle. This doesn't require a build execution to be started. The following command line demonstrates how a given upload can be done:</p>
<pre class="doc-code-block"><code class="language-plaintext">java -jar saker.build.jar action server upload \
	-api-key &lt;API-KEY&gt; \
	-api-secret &lt;API-SECRET&gt; \
	example.package-v1.0.jar
</code></pre>
<p>In addition, the <code>-overwrite</code> flag can be specified to overwrite already uploaded (but not yet published) bundles, and the <code>-server</code> option to specify the upload network endpoint.</p>
<h2 id="upload-results">Upload results<a class="doc-heading-anchor" href="#upload-results"></a></h2>
<p>As the result of your upload, you will see the uploaded bundle in the Bundles page for your package. The bundle will undergo a first round of validation by the API server, and will display the results for you. If the validation fails, you will need to fix it and reupload the bundle again. The second round of validation will happen during publishing, when additional checks are made to ensure package consistency. The bundle validation may take some time to be processed.</p>
<p>Any uploaded but not yet published bundle may be freely deleted.</p>
<p>If all the bundles pass validation, you'll be able to publish them to the community.</p>
<link href="../../../css/sakerscript.css"  rel="stylesheet" type="text/css" /></div>
			<div class="end-section-links">
				<div class="end-section-prev">
					<a class="doc-prev-section" href="../../doc/websiteguide/naming.html" title="Naming"><svg class="doc-section-arrow" viewBox="0 0 24 24">
    <path fill="currentColor" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" />
</svg>Naming</a>
				</div>
				<div class="end-section-next">
					<a class="doc-next-section" href="../../doc/websiteguide/publishing.html" title="Publishing">Publishing<svg class="doc-section-arrow" viewBox="0 0 24 24">
    <path fill="currentColor" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" />
</svg></a>
				</div>
			</div>
			<div class="doc-headings-nav">  <ul>    <li><a href="#uploading-bundles" title="Uploading bundles">Uploading bundles</a>      <ul>        <li><a href="#api-keys" title="API keys">API keys</a>          <ul>            <li><a href="#regenerating-api-keys" title="Regenerating API keys">Regenerating API keys</a>            </li>          </ul>        </li>        <li><a href="#build-execution" title="Build execution">Build execution</a>        </li>        <li><a href="#repository-action" title="Repository action">Repository action</a>        </li>        <li><a href="#upload-results" title="Upload results">Upload results</a>        </li>      </ul>    </li>  </ul></div>
		</div>
	</div>
</div>
<div class="doc-footer">
	<div class="container">
		<div class="row">
			<div class="footer-section col-6 col-sm-4 col-md-3">
				<p class="footer-section-title">About</p>
				<div><a href="/index.html" title="Saker.build home page">Home</a></div>
				<div data-footer-location="doc-docs"><a href="../../index.html" title="saker.nest documentation index">Documentation index</a></div>
				<div><a href="../../../saker.build/index.html" title="Information about the saker.build system">saker.build system</a></div>
				<div><a href="../../../saker.nest/index.html" title="Information about the saker.nest repository">saker.nest repository</a></div>
				<div><a href="/contact.html" title="Contact us">Contact</a></div>
			</div>
			<div class="footer-section col-6 col-sm-4 col-md-3">
				<p class="footer-section-title">Resources</p>
				<div data-footer-location="doc-docs"><a href="../../doc/index.html" title="saker.nest documentation index">Documentation</a></div>
				<div data-footer-location="doc-javadoc"><a href="../../javadoc/index.html" title="JavaDoc for saker.nest">JavaDoc</a></div>
				<div data-footer-location="doc-taskdoc"><a href="../../taskdoc/index.html"  title="Documentation of build tasks in saker.nest">TaskDoc</a></div>
				<div data-footer-location="nest-package"><a href="https://nest.saker.build/package/saker.nest" title="saker.nest | saker.nest">saker.nest on saker.nest</a></div>
				<div><a href="https://github.com/sakerbuild/saker.nest" title="saker.nest on GitHub">GitHub</a></div>
			</div>
		</div>	
		<div class="row">
			<div class="col">
			&copy; Bence Sipka 2020
			</div>
		</div>
	</div>
</div>

<link rel="stylesheet" href="../../../res/hljs.css"><script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js" integrity="sha256-js+I1fdbke/DJrW2qXQlrw7VUEqmdeFeOW37UC0bEiU=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.13.1/build/languages/plaintext.min.js"></script>
<script>
if(window.hasOwnProperty("hljs")){
	hljs.configure({
	  languages: []
	});
	hljs.initHighlightingOnLoad();
}
</script>

</body>
</html>