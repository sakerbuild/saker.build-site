<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Transparency&nbsp;|&nbsp;saker.rmi</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/>
	
	<link rel="stylesheet" href="../../../res/bootstrap.min.css" >
	<link rel="stylesheet" href="../../../res/doc-saker.css" >
</head>
<body data-nav-location="packagedoc" data-subdoc-presence="nest-package packagedoc javadoc">
<div class="doc-nav-bar">
	<div class="container">
		<a class="home-link" href="../../index.html" title="saker.rmi"><img style="height: 2.5em;" class="logo" src="../../../res/logo.svg"/><span class="page-name">saker.rmi</span></a>
		<a class="nav-location-item" data-nav-location="doc-docs" href="../../doc/index.html" title="Documentation">Documentation</a>
		<a class="nav-location-item" data-nav-location="doc-taskdoc" href="../../taskdoc/index.html" title="Build task documentation">TaskDoc</a>
		<a class="nav-location-item" data-nav-location="doc-javadoc" href="../../javadoc/index.html"title="Java API documentation">JavaDoc</a>
		<div class="nav-bar-controls">
			<label class="d-xl-none nav-bar-collapse" for="collapse-nav-bar-label">
				<svg style="height: 1.5em;" viewBox="0 0 24 24">
				    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
				</svg>
			</label>
			<input style="display:none;" id="collapse-nav-bar-label" type="checkbox"/>
			<div class="nav-bar-items">
				<a href="/" title="saker.build home page">Home</a>
				<a href="/buildtrace.html" title="Build trace viewer">Build trace</a>
				<a style="display:none;" href="/sponsor.html" title="Sponsoring development">Sponsor</a>
				<a href="/blog/" title="saker.build system blog">Blog</a>
				<a class="no-external-icon" href="https://github.com/sakerbuild/saker.build" title="saker.build GitHub repository">GitHub</a>
			</div>
		</div>
	</div>
</div>
<div class="container page-contents packagedoc">
	<div class="row">
		<div class="col-12 col-lg-3 col-xl-2 p-lg-0">
			<div class="doc-navigation-container">
				<label class="d-lg-none nav-collapse" for="doc-collapse-nav-label">
					<svg style="height: 1.5em;" viewBox="0 0 24 24">
					    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
					</svg>
					Navigation
				</label>
				<input style="display:none;" id="doc-collapse-nav-label" type="checkbox"/> 
				<div class="doc-nav">  <div class="doc-section"><ul><li><a class="doc-nav-section-link" href="../../index.html" title="Index">Index</a></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Package details</p><ul><li><a class="doc-nav-section-link" href="../index.html" title="Overview">Overview</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_0"><a class="doc-nav-section-link" href="../gettingstarted.html" title="Getting started">Getting started</a></label><input style="display:none;" id="_doc_collapse_id_0" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_0"></label><ul><li><a class="doc-nav-section-link" href="../addclasspath.html" title="Classpath">Classpath</a></li><li><a class="doc-nav-section-link" href="../downloadlib.html" title="Download the library">Download the library</a></li><li><a class="doc-nav-section-link" href="../asbundledependency.html" title="As bundle dependency">As bundle dependency</a></li></ul></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Features</p><ul><li><a class="doc-nav-section-link" href="index.html" title="Overview">Overview</a></li><li class="doc-active doc-active-parent"><a class="doc-nav-section-link" href="transparency.html" title="Transparency">Transparency</a></li><li><a class="doc-nav-section-link" href="backdispatch.html" title="Request back dispatch">Request back dispatch</a></li><li><a class="doc-nav-section-link" href="autoproxy.html" title="Automatic proxies">Automatic proxies</a></li><li><a class="doc-nav-section-link" href="garbagecollection.html" title="Garbage collection">Garbage collection</a></li></ul>  </div></div>
			</div>
		</div>
		<div class="col-12 col-lg-9 col-xl-10 doc-page">
			<div class="doc-breadcrumb">
				Features &gt; <a href="transparency.html" title="Transparency">Transparency</a>
			</div>
			<div class="sb-sponsors" style="display: none;">
	<span class="sb-sponsors-title">Sponsors</span>
	<div class="container">
		<div class="row">
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
		</div>
	</div>
</div>
			<div class="doc-content"><h1 id="transparency">Transparency<a class="doc-heading-anchor" href="#transparency"></a></h1>
<p>One of the core features of Saker.rmi is that the RMI proxy objects should work the same way as if they weren't proxy objects. The code that uses an RMI connection should work the same way if it wasn't using the connection. The fact that an object is behind a proxy shouldn't impose any restrictions on the behaviour of the proxy and the code that uses it.</p>
<p>An example that showcases this is by working with files using an interface:</p>
<pre class="doc-code-block"><code class="language-java">public interface FileSystemStub {
	public byte[] getFileBytes(String filepath) throws IOException;
}

public class FileSystemImpl implements FileSystemStub {
	@Override
	public byte[] getFileBytes(String filepath) throws IOException {
		return Files.readAllBytes(Paths.get(filepath));
	}
}
</code></pre>
<p>The above defines an interface that provides access to the contents of a file for a given path. Below is a basic implementation for that class.</p>
<p>The code that uses the <code>FileSystemStub</code> interface doesn't have to work differently if the given interface is backed by an RMI proxy. The following code should <em>always</em> be correct irregardless of the backing implementation of the <code>FileSystemStub</code>:</p>
<pre class="doc-code-block"><code class="language-java">public static String[] getFileLines(FileSystemStub fs, String filepath) 
		throws IOException {
	return new String(fs.getFileBytes(filepath)).split(&quot;\n&quot;);
}
</code></pre>
<p>If the <code>fs</code> argument is a remote object, the above method still works correctly, and needs no special handling. Although this example is overly simplified, accessing remote file system like this is an important use-case for the RMI library.</p>
<h2 id="exceptions">Exceptions<a class="doc-heading-anchor" href="#exceptions"></a></h2>
<p>What happens when the RMI connection breaks up, or otherwise fails? The proxy method calls will throw an appropriate <a href="../../javadoc/saker/rmi/exception/RMIRuntimeException.html"><code>RMIRuntimeException</code></a>. You may want to choose to catch it, in which case the code needs special handling. However, you may also hard fail in case of network errors if that seriously distrupts application workflow, or configure the RMI connection to handle it. The RMI library may rethrow an exception if it is caused by connection failures. You can annotate the method using the <a href="../../javadoc/saker/rmi/annot/invoke/RMIExceptionRethrow.html"><code>@RMIExceptionRethrow</code></a> annotation:</p>
<pre class="doc-code-block"><code class="language-java">public interface FileSystemStub {
	@RMIExceptionRethrow(RemoteIOException.class)
	public byte[] getFileBytes(String filepath) throws IOException;
}
</code></pre>
<p>In this case, if the method call fails due to an RMI connection error (unexpectedly breaking up, or others), then an instance of <a href="../../../saker.util/javadoc/saker/util/io/RemoteIOException.html"><code>RemoteIOException</code></a> will be thrown instead of an RMI runtime error. This way, the transparency that we've been striving for since the beginning can be restored.</p>
<link href="../../../css/sakerscript.css"  rel="stylesheet" type="text/css" /></div>
			<div class="end-section-links">
				<div class="end-section-prev">
					<a class="doc-prev-section" href="../../doc/features/index.html" title="Overview"><svg class="doc-section-arrow" viewBox="0 0 24 24">
    <path fill="currentColor" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" />
</svg>Overview</a>
				</div>
				<div class="end-section-next">
					<a class="doc-next-section" href="../../doc/features/backdispatch.html" title="Request back dispatch">Request back dispatch<svg class="doc-section-arrow" viewBox="0 0 24 24">
    <path fill="currentColor" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" />
</svg></a>
				</div>
			</div>
			<div class="doc-headings-nav">  <ul>    <li><a href="#transparency" title="Transparency">Transparency</a>      <ul>        <li><a href="#exceptions" title="Exceptions">Exceptions</a>        </li>      </ul>    </li>  </ul></div>
		</div>
	</div>
</div>
<div class="doc-footer">
	<div class="container">
		<div class="row">
			<div class="footer-section col-6 col-sm-4 col-md-3">
				<p class="footer-section-title">About</p>
				<div><a href="/index.html" title="Saker.build home page">Home</a></div>
				<div data-footer-location="doc-docs"><a href="../../index.html" title="saker.rmi documentation index">Documentation index</a></div>
				<div><a href="../../../saker.build/index.html" title="Information about the saker.build system">saker.build system</a></div>
				<div><a href="../../../saker.nest/index.html" title="Information about the saker.nest repository">saker.nest repository</a></div>
				<div><a href="/contact.html" title="Contact us">Contact</a></div>
			</div>
			<div class="footer-section col-6 col-sm-4 col-md-3">
				<p class="footer-section-title">Resources</p>
				<div data-footer-location="doc-docs"><a href="../../doc/index.html" title="saker.rmi documentation index">Documentation</a></div>
				<div data-footer-location="doc-javadoc"><a href="../../javadoc/index.html" title="JavaDoc for saker.rmi">JavaDoc</a></div>
				<div data-footer-location="doc-taskdoc"><a href="../../taskdoc/index.html"  title="Documentation of build tasks in saker.rmi">TaskDoc</a></div>
				<div data-footer-location="nest-package"><a href="https://nest.saker.build/package/saker.rmi" title="saker.rmi | saker.nest">saker.rmi on saker.nest</a></div>
				<div><a href="https://github.com/sakerbuild/saker.rmi" title="saker.rmi on GitHub">GitHub</a></div>
			</div>
		</div>	
		<div class="row">
			<div class="col">
			&copy; Bence Sipka 2020
			</div>
		</div>
	</div>
</div>

<link rel="stylesheet" href="../../../res/hljs.css"><script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js" integrity="sha256-js+I1fdbke/DJrW2qXQlrw7VUEqmdeFeOW37UC0bEiU=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.13.1/build/languages/java.min.js"></script>
<script>
if(window.hasOwnProperty("hljs")){
	hljs.configure({
	  languages: []
	});
	hljs.initHighlightingOnLoad();
}
</script>

</body>
</html>