<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Test classpath&nbsp;|&nbsp;saker.java.testing</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/>
	
	<link rel="stylesheet" href="../../../res/bootstrap.min.css" >
	<link rel="stylesheet" href="../../../res/doc-saker.css" >
</head>
<body data-nav-location="packagedoc" data-subdoc-presence="nest-package packagedoc javadoc taskdoc">
<div class="doc-nav-bar">
	<div class="container">
		<a class="home-link" href="../../index.html" title="saker.java.testing"><img style="height: 2.5em;" class="logo" src="../../../res/logo.svg"/><span class="page-name">saker.java.testing</span></a>
		<a class="nav-location-item" data-nav-location="doc-docs" href="../../doc/index.html" title="Documentation">Documentation</a>
		<a class="nav-location-item" data-nav-location="doc-taskdoc" href="../../taskdoc/index.html" title="Build task documentation">TaskDoc</a>
		<a class="nav-location-item" data-nav-location="doc-javadoc" href="../../javadoc/index.html"title="Java API documentation">JavaDoc</a>
		<div class="nav-bar-controls">
			<label class="d-xl-none nav-bar-collapse" for="collapse-nav-bar-label">
				<svg style="height: 1.5em;" viewBox="0 0 24 24">
				    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
				</svg>
			</label>
			<input style="display:none;" id="collapse-nav-bar-label" type="checkbox"/>
			<div class="nav-bar-items">
				<a href="/" title="saker.build home page">Home</a>
				<a href="/buildtrace.html" title="Build trace viewer">Build trace</a>
				<a style="display:none;" href="/sponsor.html" title="Sponsoring development">Sponsor</a>
				<a href="/blog/" title="saker.build system blog">Blog</a>
				<a class="no-external-icon" href="https://github.com/sakerbuild/saker.build" title="saker.build GitHub repository">GitHub</a>
			</div>
		</div>
	</div>
</div>
<div class="container page-contents packagedoc">
	<div class="row">
		<div class="col-12 col-lg-3 col-xl-2 p-lg-0">
			<div class="doc-navigation-container">
				<label class="d-lg-none nav-collapse" for="doc-collapse-nav-label">
					<svg style="height: 1.5em;" viewBox="0 0 24 24">
					    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
					</svg>
					Navigation
				</label>
				<input style="display:none;" id="doc-collapse-nav-label" type="checkbox"/> 
				<div class="doc-nav">  <div class="doc-section"><ul><li><a class="doc-nav-section-link" href="../../index.html" title="Index">Index</a></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Package details</p><ul><li><a class="doc-nav-section-link" href="../index.html" title="Overview">Overview</a></li><li><a class="doc-nav-section-link" href="../gettingstarted.html" title="Getting started">Getting started</a></li><li><a class="doc-nav-section-link" href="../performancecomparison.html" title="Performance comparison">Performance comparison</a></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Testing</p><ul><li><a class="doc-nav-section-link" href="index.html" title="Overview">Overview</a></li><li class="doc-active doc-active-parent"><a class="doc-nav-section-link" href="classpath.html" title="Test classpath">Test classpath</a></li><li><a class="doc-nav-section-link" href="testinvocation.html" title="Test invocation">Test invocation</a></li><li><a class="doc-nav-section-link" href="testparameters.html" title="Test parameters">Test parameters</a></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Examples</p><ul><li><a class="doc-nav-section-link" href="../examples/index.html" title="Overview">Overview</a></li><li><a class="doc-nav-section-link" href="../examples/junit.html" title="Using JUnit">Using JUnit</a></li></ul>  </div></div>
			</div>
		</div>
		<div class="col-12 col-lg-9 col-xl-10 doc-page">
			<div class="doc-breadcrumb">
				Testing > <a href="classpath.html" title="Test classpath">Test classpath</a>
			</div>
			<div class="sb-sponsors" style="display: none;">
	<span class="sb-sponsors-title">Sponsors</span>
	<div class="container">
		<div class="row">
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
		</div>
	</div>
</div>
			<div class="doc-content"><h1 id="test-classpath">Test classpath<a class="doc-heading-anchor" href="#test-classpath"></a></h1>
<p>During the testing, multiple classpaths are loaded in order to properly set up the testing environment. The task needs to load the test runner, the classes that are being tested, and the test cases. All of them are part of different <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html" title="ClassLoader (Java Platform SE 8 )"><code>ClassLoaders</code></a>, and they have different visibilities in order to properly ensure runtime class loading.</p>
<p>We define the following class loaders:</p>
<ul class="doc-md-list">
<li><a href="../../taskdoc/saker.java.test.html#ClassPath"><code>ClassPath</code></a> (also known as user classpath).
<ul class="doc-md-list">
<li>Contains the classes that are the subject of the testing.</li>
</ul>
</li>
<li><a href="../../taskdoc/saker.java.test.html#TestRunnerClassPath"><code>TestRunnerClassPath</code></a>.
<ul class="doc-md-list">
<li>Contains the classes for the test runner. The test runner is used to invoke the test cases. (E.g. jUnit, or other testing frameworks)</li>
</ul>
</li>
<li><a href="../../taskdoc/saker.java.test.html#TestClassPath"><code>TestClassPath</code></a>.
<ul class="doc-md-list">
<li>Contains the classes of the test cases that are being executed.</li>
</ul>
</li>
</ul>
<p>The above class loaders are in a relation as the following diagram illustrates:</p>
<p><img src="classpath.svg" alt="" /></p>
<p>Based on the above, we can see the setup of the class loaders during testing. The <code>ClassPath</code> classloader have access <em>only</em> to the standard JVM classes. It cannot access classes defined in the <code>Test(Runner)ClassPath</code> class loaders.</p>
<p>The <code>TestRunnerClassPath</code> is the one that contains the testing framework. It is responsible for invoking the tests defined in <code>TestClassPath</code>. It can access the classes defined in the saker.java.testing package (the saker.nest package), and only the classes with the package prefix of <code>saker.java.testing</code>. This is order for the test runner to be able to integrate with the saker.java.testing API.</p>
<p>The test runner classpath won't be able to access other classes from the saker.nest or saker.build runtime.</p>
<p>The <code>TestClassPath</code> can access the classes from <code>ClassPath</code> in order to test them. It can also access the <code>TestRunnerClassPath</code> in order to integrate with the test runner framework. However, it <strong>cannot</strong> access the classes from the <code>saker.java.testing</code> package, or any other transitive parent class loaders.</p>
<p><strong>But how does the <code>TestRunnerClassPath</code> know about the test cases defined in <code>TestClassPath</code>?</strong></p>
<p>You might ask. The test runner is initialized with the reference to the <code>TestClassPath</code> (this is not displayed in the above diagram). For each test case that is being invoked, the test runner will be passed the name of the test case class. It will then use the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html" title="ClassLoader (Java Platform SE 8 )"><code>ClassLoader</code></a> for the test class path, and load the test case class for the given name.</p>
<link href="../../../css/sakerscript.css"  rel="stylesheet" type="text/css" /></div>
			<div class="end-section-links">
				<div class="end-section-prev">
					<a class="doc-prev-section" href="../../doc/testing/index.html" title="Overview"><svg class="doc-section-arrow" viewBox="0 0 24 24">
    <path fill="currentColor" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" />
</svg>Overview</a>
				</div>
				<div class="end-section-next">
					<a class="doc-next-section" href="../../doc/testing/testinvocation.html" title="Test invocation">Test invocation<svg class="doc-section-arrow" viewBox="0 0 24 24">
    <path fill="currentColor" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" />
</svg></a>
				</div>
			</div>
			
		</div>
	</div>
</div>
<div class="doc-footer">
	<div class="container">
		<div class="row">
			<div class="footer-section col-6 col-sm-4 col-md-3">
				<p class="footer-section-title">About</p>
				<div><a href="/index.html" title="Saker.build home page">Home</a></div>
				<div data-footer-location="doc-docs"><a href="../../index.html" title="saker.java.testing documentation index">Documentation index</a></div>
				<div><a href="../../../saker.build/index.html" title="Information about the saker.build system">saker.build system</a></div>
				<div><a href="../../../saker.nest/index.html" title="Information about the saker.nest repository">saker.nest repository</a></div>
				<div><a href="/contact.html" title="Contact us">Contact</a></div>
			</div>
			<div class="footer-section col-6 col-sm-4 col-md-3">
				<p class="footer-section-title">Resources</p>
				<div data-footer-location="doc-docs"><a href="../../doc/index.html" title="saker.java.testing documentation index">Documentation</a></div>
				<div data-footer-location="doc-javadoc"><a href="../../javadoc/index.html" title="JavaDoc for saker.java.testing">JavaDoc</a></div>
				<div data-footer-location="doc-taskdoc"><a href="../../taskdoc/index.html"  title="Documentation of build tasks in saker.java.testing">TaskDoc</a></div>
				<div data-footer-location="nest-package"><a href="https://nest.saker.build/package/saker.java.testing" title="saker.java.testing | saker.nest">saker.java.testing on saker.nest</a></div>
				<div><a href="https://github.com/sakerbuild/saker.java.testing" title="saker.java.testing on GitHub">GitHub</a></div>
			</div>
		</div>	
		<div class="row">
			<div class="col">
			&copy; Bence Sipka 2020
			</div>
		</div>
	</div>
</div>


<script>
if(window.hasOwnProperty("hljs")){
	hljs.configure({
	  languages: []
	});
	hljs.initHighlightingOnLoad();
}
</script>

</body>
</html>