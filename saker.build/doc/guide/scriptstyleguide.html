<!DOCTYPE html>
<html>
<head>
	<title>Build script style guide&nbsp;|&nbsp;saker.build</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/>
	
	<link rel="stylesheet" href="../../../res/bootstrap.min.css" >
	<link rel="stylesheet" href="../../../res/doc-saker.css" >
</head>
<body data-nav-location="packagedoc" data-subdoc-presence="nest-package packagedoc javadoc">
<div class="doc-nav-bar">
	<div class="container">
		<a class="home-link" href="../../index.html" title="saker.build"><img style="height: 2.5em;" class="logo" src="../../../res/logo.svg"/><span class="page-name">saker.build</span></a>
		<a class="nav-location-item" data-nav-location="doc-docs" href="../../doc/index.html" title="Documentation">Documentation</a>
		<a class="nav-location-item" data-nav-location="doc-taskdoc" href="../../taskdoc/index.html" title="Build task documentation">TaskDoc</a>
		<a class="nav-location-item" data-nav-location="doc-javadoc" href="../../javadoc/index.html"title="Java API documentation">JavaDoc</a>
	</div>
</div>
<div class="container page-contents packagedoc">
	<div class="row">
		<div class="col-12 col-lg-3 col-xl-2 p-lg-0">
			<div class="doc-navigation-container">
				<label class="d-lg-none nav-collapse" for="doc-collapse-nav-label">
					<svg style="height: 1.5em;" viewBox="0 0 24 24">
					    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
					</svg>
					Navigation
				</label>
				<input style="display:none;" id="doc-collapse-nav-label" type="checkbox"/> 
				<div class="doc-nav">  <div class="doc-section">    <p class="section-title">Introduction</p><ul><li><a class="doc-nav-section-link" href="../index.html" title="Overview">Overview</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_0"><a class="doc-nav-section-link" href="../installation.html" title="Installation">Installation</a></label><input style="display:none;" id="_doc_collapse_id_0" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_0"></label><ul><li><a class="doc-nav-section-link" href="../eclipseplugin.html" title="Eclipse plugin">Eclipse plugin</a></li><li><a class="doc-nav-section-link" href="../releasearchive.html" title="Release archive">Release archive</a></li></ul></li><li><a class="doc-nav-section-link" href="../perfcomparison.html" title="Performance comparisons">Performance comparisons</a></li><li><a class="doc-nav-section-link" href="../roadmap.html" title="Roadmap">Roadmap</a></li><li><a class="doc-nav-section-link" href="../contribute.html" title="Contribute">Contribute</a></li></ul>  </div>  <div class="doc-section">    <p class="section-title">User guide</p><ul><li><label class="doc-nav-collapse" for="_doc_collapse_id_1"><a class="doc-nav-section-link" href="index.html" title="Introduction">Introduction</a></label><input style="display:none;" id="_doc_collapse_id_1" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_1"></label><ul><li><a class="doc-nav-section-link" href="helloworld.html" title="Hello world">Hello world</a></li><li><a class="doc-nav-section-link" href="buildtargets.html" title="Build targets">Build targets</a></li><li><a class="doc-nav-section-link" href="datastructures.html" title="Data structures">Data structures</a></li><li><a class="doc-nav-section-link" href="foreach.html" title="Foreach loop">Foreach loop</a></li><li><a class="doc-nav-section-link" href="controlflow.html" title="Control flow">Control flow</a></li></ul></li><li><a class="doc-nav-section-link" href="incremental.html" title="Incremental builds">Incremental builds</a></li><li><a class="doc-nav-section-link" href="runtime.html" title="Build system runtime">Build system runtime</a></li><li><a class="doc-nav-section-link" href="envconfig.html" title="Environment configuration">Environment configuration</a></li><li><a class="doc-nav-section-link" href="execparams.html" title="Execution parameters">Execution parameters</a></li><li><a class="doc-nav-section-link" href="pathconfiguration.html" title="Path configuration">Path configuration</a></li><li><a class="doc-nav-section-link" href="repositories.html" title="Task repositories">Task repositories</a></li><li><a class="doc-nav-section-link" href="scriptlanguages.html" title="Script languages">Script languages</a></li><li><a class="doc-nav-section-link" href="daemon.html" title="Build daemon">Build daemon</a></li><li><a class="doc-nav-section-link" href="filechangetracking.html" title="File change tracking">File change tracking</a></li><li><a class="doc-nav-section-link" href="remotebuild.html" title="Remote build execution">Remote build execution</a></li><li><a class="doc-nav-section-link" href="buildclusters.html" title="Build clusters">Build clusters</a></li><li><a class="doc-nav-section-link" href="buildcache.html" title="Build cache">Build cache</a></li><li><a class="doc-nav-section-link" href="reproducible.html" title="Reproducible builds">Reproducible builds</a></li><li><a class="doc-nav-section-link" href="wildcards.html" title="Wildcard paths">Wildcard paths</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_2"><a class="doc-nav-section-link" href="cmdlineref/index.html" title="Command line reference">Command line reference</a></label><input style="display:none;" id="_doc_collapse_id_2" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_2"></label><ul><li><a class="doc-nav-section-link" href="cmdlineref/build.html" title="build">build</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_3"><a class="doc-nav-section-link" href="cmdlineref/daemon.html" title="daemon">daemon</a></label><input style="display:none;" id="_doc_collapse_id_3" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_3"></label><ul><li><a class="doc-nav-section-link" href="cmdlineref/daemon_start.html" title="start">start</a></li><li><a class="doc-nav-section-link" href="cmdlineref/daemon_stop.html" title="stop">stop</a></li><li><a class="doc-nav-section-link" href="cmdlineref/daemon_run.html" title="run">run</a></li><li><a class="doc-nav-section-link" href="cmdlineref/daemon_io.html" title="io">io</a></li><li><a class="doc-nav-section-link" href="cmdlineref/daemon_info.html" title="info">info</a></li></ul></li><li><a class="doc-nav-section-link" href="cmdlineref/action.html" title="action">action</a></li><li><a class="doc-nav-section-link" href="cmdlineref/licenses.html" title="licenses">licenses</a></li></ul></li><li class="doc-active doc-active-parent"><a class="doc-nav-section-link" href="scriptstyleguide.html" title="Build script style guide">Build script style guide</a></li><li><a class="doc-nav-section-link" href="bestpractices.html" title="Best practices">Best practices</a></li><li><a class="doc-nav-section-link" href="../examplecollection.html" title="Example collection">Example collection</a></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Scripting language</p><ul><li><a class="doc-nav-section-link" href="../scripting/index.html" title="Overview">Overview</a></li><li><a class="doc-nav-section-link" href="../scripting/executionmodel.html" title="Execution model">Execution model</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_4"><a class="doc-nav-section-link" href="../scripting/langref/index.html" title="Language reference">Language reference</a></label><input style="display:none;" id="_doc_collapse_id_4" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_4"></label><ul><li><a class="doc-nav-section-link" href="../scripting/langref/sourcefile/index.html" title="Source file">Source file</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/expressions/index.html" title="Expressions">Expressions</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/comments/index.html" title="Comments">Comments</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/literals/index.html" title="Literals">Literals</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/variables/index.html" title="Variables">Variables</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/tasks/index.html" title="Task extensions">Task extensions</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_5"><a class="doc-nav-section-link" href="../scripting/langref/operators/index.html" title="Operators">Operators</a></label><input style="display:none;" id="_doc_collapse_id_5" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_5"></label><ul><li><a class="doc-nav-section-link" href="../scripting/langref/operators/addition/index.html" title="Addition">Addition</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/assignment/index.html" title="Assignment">Assignment</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/bitnegate/index.html" title="Bitwise negate">Bitwise negate</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/bitoperators/index.html" title="Bitwise operators">Bitwise operators</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/bitshiftoperators/index.html" title="Bitwise shift operators">Bitwise shift operators</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/boolnegate/index.html" title="Boolean negate">Boolean negate</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/booloperators/index.html" title="Boolean operators">Boolean operators</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/dereference/index.html" title="Dereference">Dereference</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/equality/index.html" title="Equality comparison">Equality comparison</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/mathoperators/index.html" title="Mathematic operators">Mathematic operators</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/comparison/index.html" title="Numeric comparison">Numeric comparison</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/parentheses/index.html" title="Parentheses">Parentheses</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/subscript/index.html" title="Subscript">Subscript</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/ternary/index.html" title="Ternary">Ternary</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/operators/unaryminus/index.html" title="Unary minus">Unary minus</a></li></ul></li><li><a class="doc-nav-section-link" href="../scripting/langref/ifelse/index.html" title="If-else statement">If-else statement</a></li><li><a class="doc-nav-section-link" href="../scripting/langref/foreach/index.html" title="Foreach expression">Foreach expression</a></li></ul></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_6"><a class="doc-nav-section-link" href="../scripting/builtintasks/index.html" title="Built-in tasks">Built-in tasks</a></label><input style="display:none;" id="_doc_collapse_id_6" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_6"></label><ul><li><a class="doc-nav-section-link" href="../scripting/builtintasks/abort.html" title="abort()">abort()</a></li><li><a class="doc-nav-section-link" href="../scripting/builtintasks/global.html" title="global()">global()</a></li><li><a class="doc-nav-section-link" href="../scripting/builtintasks/include.html" title="include()">include()</a></li><li><a class="doc-nav-section-link" href="../scripting/builtintasks/path.html" title="path()">path()</a></li><li><a class="doc-nav-section-link" href="../scripting/builtintasks/print.html" title="print()">print()</a></li><li><a class="doc-nav-section-link" href="../scripting/builtintasks/sequence.html" title="sequence()">sequence()</a></li><li><a class="doc-nav-section-link" href="../scripting/builtintasks/static.html" title="static()">static()</a></li><li><a class="doc-nav-section-link" href="../scripting/builtintasks/var.html" title="var()">var()</a></li></ul></li></ul>  </div>  <div class="doc-section">    <p class="section-title">Extending saker.build</p><ul><li><a class="doc-nav-section-link" href="../extending/index.html" title="Overview">Overview</a></li><li><a class="doc-nav-section-link" href="../extending/api.html" title="Build system API">Build system API</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_7"><a class="doc-nav-section-link" href="../extending/taskdev/index.html" title="Task development">Task development</a></label><input style="display:none;" id="_doc_collapse_id_7" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_7"></label><ul><li><a class="doc-nav-section-link" href="../extending/taskdev/helloworld.html" title="Hello world">Hello world</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/taskparameters.html" title="Task parameters">Task parameters</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/taskresults.html" title="Task results">Task results</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_8"><a class="doc-nav-section-link" href="../extending/taskdev/filehandling.html" title="File handling">File handling</a></label><input style="display:none;" id="_doc_collapse_id_8" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_8"></label><ul><li><a class="doc-nav-section-link" href="../extending/taskdev/filedependencies.html" title="File dependencies">File dependencies</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/fileadditiondependency.html" title="File addition dependency">File addition dependency</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/customfiles.html" title="Custom files">Custom files</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/filemirroring.html" title="File mirroring">File mirroring</a></li></ul></li><li><a class="doc-nav-section-link" href="../extending/taskdev/propertydependencies.html" title="Property dependencies">Property dependencies</a></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_9"><a class="doc-nav-section-link" href="../extending/taskdev/taskmanagement.html" title="Task management">Task management</a></label><input style="display:none;" id="_doc_collapse_id_9" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_9"></label><ul><li><a class="doc-nav-section-link" href="../extending/taskdev/startingtasks.html" title="Starting tasks">Starting tasks</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/retrievingtaskresults.html" title="Retrieving task results">Retrieving task results</a></li></ul></li><li><a class="doc-nav-section-link" href="../extending/taskdev/incrementaldeltas.html" title="Incremental deltas">Incremental deltas</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/taskcapabilities.html" title="Task capabilities">Task capabilities</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/parameterparsing.html" title="Parameter parsing">Parameter parsing</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/innertasks.html" title="Inner tasks">Inner tasks</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/taskworkflow.html" title="Task workflow">Task workflow</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/taskcaching.html" title="Task caching">Task caching</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/buildclusters.html" title="Build clusters">Build clusters</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/standardio.html" title="Standard I/O">Standard I/O</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/serialization.html" title="Serialization">Serialization</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/ideconfig.html" title="IDE configuration">IDE configuration</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/reproducible.html" title="Reproducible builds">Reproducible builds</a></li><li><a class="doc-nav-section-link" href="../extending/taskdev/bestpractices.html" title="Best practices">Best practices</a></li></ul></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_10"><a class="doc-nav-section-link" href="../extending/scriptdev/index.html" title="Script language development">Script language development</a></label><input style="display:none;" id="_doc_collapse_id_10" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_10"></label><ul><li><a class="doc-nav-section-link" href="../extending/scriptdev/structure.html" title="API structure">API structure</a></li><li><a class="doc-nav-section-link" href="../extending/scriptdev/packaging.html" title="Packaging">Packaging</a></li><li><a class="doc-nav-section-link" href="../extending/scriptdev/workflow.html" title="Development workflow">Development workflow</a></li></ul></li><li><label class="doc-nav-collapse" for="_doc_collapse_id_11"><a class="doc-nav-section-link" href="../extending/repositorydev/index.html" title="Repository development">Repository development</a></label><input style="display:none;" id="_doc_collapse_id_11" type="checkbox"/><label class="doc-nav-section-arrow" for="_doc_collapse_id_11"></label><ul><li><a class="doc-nav-section-link" href="../extending/repositorydev/structure.html" title="API structure">API structure</a></li><li><a class="doc-nav-section-link" href="../extending/repositorydev/packaging.html" title="Packaging">Packaging</a></li></ul></li><li><a class="doc-nav-section-link" href="../extending/testing/index.html" title="Integration testing">Integration testing</a></li></ul>  </div></div>
			</div>
		</div>
		<div class="col-12 col-lg-9 col-xl-10 doc-page">
			<div class="sb-sponsors" style="display: none;">
	<span class="sb-sponsors-title">Sponsors</span>
	<div class="container">
		<div class="row">
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
			<div class="col-md-4 col-12">
				<a class="sb-sponsors-link"></a>
			</div>
		</div>
	</div>
</div>
			<div class="doc-content"><h1 id="build-script-style-guide">Build script style guide<a class="doc-heading-anchor" href="#build-script-style-guide"></a></h1>
<p>This article states the recommended style for writing build scripts in the SakerScript language.</p>
<h2 id="consistent-style">Consistent style<a class="doc-heading-anchor" href="#consistent-style"></a></h2>
<p>Whether or not you take our advices, it is the utmost importance to have a <strong>consistent</strong> style. Strive to format elements in the source code which have the same semantics the same way.</p>
<h2 id="naming">Naming<a class="doc-heading-anchor" href="#naming"></a></h2>
<p>The following naming schemes are recommended for naming different parts of the script.</p>
<h3 id="build-targets">Build targets<a class="doc-heading-anchor" href="#build-targets"></a></h3>
<p>Build targets should be all lowercase, and single word describing the action that it does. <code>build</code>, <code>compile</code>, <code>test</code>, <code>export</code> are all great examples. When the action consists of multiple words, they should be separated by underscore (<code>'_'</code>).</p>
<pre><code class="language-sakerscript"><span class="j">build</span> <span class="e">{</span>
	<span class="h"># ...</span>
<span class="e">}</span>
<span class="j">test_remote</span> <span class="e">{</span>
	<span class="h"># ...</span>
<span class="e">}</span>
</code></pre>
<p>We don't recommend using build target <a href="../scripting/langref/sourcefile/index.html#build-target" title="Build target">name aliases</a>.</p>
<p>SakerScript doesn't specify visibility rules for build targets. All declared build targets can be called externally. This can cause compatibility errors in larger organizations, as someone who is not familiar with the build script may call build targets that should be internal to the enclosing script.</p>
<p>We recommend prefixing private build targets with underscore (<code>'_'</code>) to explicitly signal that it should not be called externally.</p>
<pre><code class="language-sakerscript"><span class="j">build</span> <span class="e">{</span>
	<span class="a">include(</span><span class="b">_private_build_target</span><span class="a">)</span>
<span class="e">}</span>
<span class="j">_private_build_target</span> <span class="e">{</span>
	<span class="h"># ...</span>
<span class="e">}</span>
</code></pre>
<h3 id="parameters">Parameters<a class="doc-heading-anchor" href="#parameters"></a></h3>
<p>The build target parameters should be formatted in <code>PascalCase</code>, with the first letter of each word component being uppercase. Parameters should be declared on their own lines, ending with comma. It may be beneficial to separate the input and output parameters by a single empty line.</p>
<p>Default values for input parameters and assignments for the output parameters are allowed in the parameter list.</p>
<pre><code class="language-sakerscript"><span class="j">build(</span>
	<span class="g">in</span> <span class="d">SourceDirectory</span>,
	<span class="g">in</span> <span class="d">SomeNumber</span> = <span class="b">123</span>,
	
	<span class="g">out</span> <span class="d">CompiledBinary</span>,
	<span class="g">out</span> <span class="d">SumValue</span> = <span class="d">$SomeNumber</span> + <span class="b">456</span>,
<span class="j">)</span> <span class="e">{</span>
	<span class="h"># ...</span>
<span class="e">}</span>
</code></pre>
<p>The parameter names shouldn't include any phrases that denote their nature of being input or output parameters. Don't name them something like <code>SourceDirectoryInput</code> or <code>InputSourceDirectory</code>.</p>
<p>The parameter list with the parentheses for a build target should be omitted if there are no parameters. Don't declare a build target with empty parameter list.</p>
<h3 id="variables">Variables<a class="doc-heading-anchor" href="#variables"></a></h3>
<p>Variables have 3 scopes based on their accessability. We recommend different naming conventions for all 3 of them.</p>
<h4 id="build-target-variables">Build target variables<a class="doc-heading-anchor" href="#build-target-variables"></a></h4>
<p>For variables that appear in build targets, we recommend either all lowercase, or <code>camelCase</code> naming conventions. They should begin with lowercase characters to clearly distinguish them from being input or output parameters.</p>
<pre><code class="language-sakerscript"><span class="d">$applesEatenPerDay</span> = <span class="b">2</span>
<span class="d">$doctorskeptaway</span> = <span class="d">$applesEatenPerDay</span> &gt;= <span class="b">1</span>
</code></pre>
<p>Whichever style you choose, make sure to be consistent over the build scripts of your project.</p>
<h4 id="static-variables">Static variables<a class="doc-heading-anchor" href="#static-variables"></a></h4>
<p>Static variables are file-level variables which are accessable from every expression in the same build script. See <a href="../scripting/builtintasks/static.html" title="static()"><code>static()</code></a> for more information about them.</p>
<p>Static variables which contain constant configuration data should be named in <code>UPPER_SNAKE_CASE</code> format. If the value of the variable is calculated dynamically, they should have the same naming format as <a href="scriptstyleguide.html#build-target-variables" title="Build target variables">Build target variables</a>.</p>
<pre><code class="language-sakerscript"><span class="a">static(</span><span class="d">DEPENDENCY_VERSION</span><span class="a">)</span> = <span class="b">1.0</span>
<span class="a">static(</span><span class="d">commonResult</span><span class="a">)</span> = <span class="a">common.task()</span>
<span class="j">build</span> <span class="e">{</span>
	<span class="a">example.load.dependency(</span><span class="b">&quot;my.dependency-v</span>{ <span class="a">static(</span><span class="d">DEPENDENCY_VERSION</span><span class="a">)</span> }<span class="b">&quot;</span><span class="a">)</span>
<span class="e">}</span>
</code></pre>
<h4 id="global-variables">Global variables<a class="doc-heading-anchor" href="#global-variables"></a></h4>
<p>Global variables are named build execution level variables that are shared with <strong>all</strong> of the build scripts, regardless of the language of the associated script. See <a href="../scripting/builtintasks/global.html" title="global()"><code>global()</code></a> for mor information about them.</p>
<p>They should be named in <code>&lt;identifier&gt;.UPPER_SNAKE_CASE</code> format. The <code>&lt;identifier&gt;</code> should uniquely identify the company and/or the project that the variable is present in.</p>
<p>Global variables should only contain constant configuration data, and their value should not be dynamically computed.</p>
<pre><code class="language-sakerscript"><span class="a">global(</span><span class="d">company.hello.world.DEPENDENCY_VERSION</span><span class="a">)</span> = <span class="b">1.0</span>
<span class="j">build</span> <span class="e">{</span>
	<span class="a">example.load.dependency(</span><span class="b">&quot;my.dependency-v</span>{ <span class="a">global(</span><span class="d">company.hello.world.DEPENDENCY_VERSION</span><span class="a">)</span> }<span class="b">&quot;</span><span class="a">)</span>
<span class="e">}</span>
</code></pre>
<p>This naming conventions applies for all scripting languages. It also helps avoiding conflicts when build scripts from other sources are included.</p>
<h3 id="task-parameters">Task parameters<a class="doc-heading-anchor" href="#task-parameters"></a></h3>
<p>The following mainly applies for task implementation developers. Task parameters should be named in <code>PascalCase</code>, similarly to build target parameters.</p>
<pre><code class="language-sakerscript"><span class="a">example.compile.sources(</span>
	<span class="c">SourceDirectory</span>: <span class="b">src</span>, 
	<span class="c">Architecture: </span><span class="b">x86</span>
<span class="a">)</span>
</code></pre>
<p>If the task declares unnamed parameters, the expected value for that parameter should be straight forward to understand based on the name or behaviour of the declaring task.</p>
<h2 id="calling-tasks">Calling tasks<a class="doc-heading-anchor" href="#calling-tasks"></a></h2>
<p>When task invocations are declared, they might take multiple parameters. With multiple parameters, the line of the declaration may be too long, or otherwise be chaotic.</p>
<p>We recommend breaking up the parameters of a task invocation into multiple lines in the following way:</p>
<pre><code class="language-sakerscript"><span class="h"># single unnamed parameter, no breaking</span>
<span class="a">include(</span><span class="b">build</span><span class="a">)</span>
<span class="h"># unnamed parameter, and one single named parameter.</span>
<span class="h"># breaking is optional</span>
<span class="a">include(</span><span class="b">build</span>, <span class="c">Path: </span><span class="b">saker.build</span><span class="a">)</span>
<span class="h"># more than 1 named parameter, the declaration should be broken up</span>
<span class="h"># each parameter on a new line indented with 1 tab</span>
<span class="h"># all parameters should have a separator comma after them</span>
<span class="h"># closing parentheses indented the same amount as the task name</span>
<span class="a">include(</span>
	<span class="b">build</span>, 
	<span class="c">Path: </span><span class="b">saker.build</span>, 
	<span class="c">SourceDirectory: </span><span class="b">src</span>, 
	<span class="c">Architecture: </span><span class="b">x86</span>,
<span class="a">)</span>
</code></pre>
<h2 id="literals">Literals<a class="doc-heading-anchor" href="#literals"></a></h2>
<p>Simple literal declarations should be on a single line without breaking up.<br />
Lists may be broken up when it becomes too long on a single line. If a list is broken up, then all of the elements should be on a separate line.<br />
Maps can be on a single line if they contain at most 1 entry. In other cases they should be broken up with 1 entry on each line.</p>
<pre><code class="language-sakerscript"><span class="d">$simple</span> = <span class="b">abcd123</span>
<span class="d">$simplelist</span> = <span class="e">[</span><span class="b">1</span><span class="e">,</span> <span class="b">2</span><span class="e">,</span> <span class="b">3</span><span class="e">]</span>
<span class="d">$biglist</span> = <span class="e">[</span>
	<span class="b">1</span><span class="e">,</span>
	<span class="b">2</span><span class="e">,</span>
	<span class="b">3</span><span class="e">,</span>
<span class="e">]</span>
<span class="d">$simplemap</span> = <span class="e">{</span> <span class="f">Key</span>: <span class="b">value</span><span class="e"> }</span>
<span class="d">$bigmap</span> = <span class="e">{</span>
	<span class="f">Key</span>: <span class="b">value</span><span class="e">,</span>
	<span class="f">ListKey</span>: <span class="e">[</span><span class="b">1</span><span class="e">,</span> <span class="b">2</span><span class="e">,</span> <span class="b">3</span><span class="e">],</span>
	<span class="f">BigListKey</span>: <span class="e">[</span>
		<span class="b">1</span><span class="e">,</span>
		<span class="b">2</span><span class="e">,</span>
		<span class="b">3</span><span class="e">,</span>
	<span class="e">],</span>
	<span class="f">MapKey</span>: <span class="e">{</span> <span class="f">Key</span>: <span class="b">value</span><span class="e"> },</span>
	<span class="f">BigMapKey</span>: <span class="e">{</span>
		<span class="f">TheValue</span>: <span class="b">abcd123</span><span class="e">,</span>
	<span class="e">},</span>
<span class="e">}</span>
</code></pre>
<p>When lists or maps are broken up, all of their elements/entries should end with a comma.</p>
<h2 id="compound-literals">Compound literals<a class="doc-heading-anchor" href="#compound-literals"></a></h2>
<p>Compound literals are the strings which are declared in quotes in the language. (See <a href="../scripting/langref/literals/index.html#compound-string-literals" title="Compound string literals">Compound string literals</a>.)</p>
<p>Writers of a build script are recommended to use simple unquoted literals when possible, and use quotes when they contain special characters. They should not actively search for literals that could be unquoted, meaning that if a literal has been used in quotes, they may remain in quotes.</p>
<h2 id="whitespace">Whitespace<a class="doc-heading-anchor" href="#whitespace"></a></h2>
<p>Spaces should be used in places of operators or other kind of separator source elements.</p>
<pre><code class="language-sakerscript"><span class="h"># spaces around operators</span>
<span class="d">$sum</span> = <span class="b">123</span> + <span class="b">456</span>
<span class="h"># spaces around map braces and after key ':'</span>
<span class="d">$map</span> = <span class="e">{</span> <span class="f">Key</span>: <span class="b">value</span><span class="e"> }</span>
<span class="h"># spaces after commas, but not necessarily around list brackets</span>
<span class="d">$list</span> = <span class="e">[</span><span class="b">1</span><span class="e">,</span> <span class="b">2</span><span class="e">,</span> <span class="b">3</span><span class="e">]</span>
<span class="h"># spaces around if-else braces</span>
<span class="g">if </span><span class="d">$condition</span> {
}<span class="g"> else </span>{
}
<span class="h">#spaces around braces and result expression ':'</span>
<span class="g">foreach </span><span class="d">$item</span><span class="g"> in </span><span class="d">$iterable</span> {
} : <span class="e">[</span><span class="d">$item</span><span class="e">]</span>
</code></pre>
<h2 id="indentation">Indentation<a class="doc-heading-anchor" href="#indentation"></a></h2>
<p>Indentation should be done using tabs. Tabs are recommended to be displayed with a with of 4 spaces.</p>
<p>Every source code element that is enclosed in an other construct should be indented with 1 more tab than its enclosing element. These are build target parameters, map entries, list elements, task parameters, <code>foreach</code> local variables, expression statements, and others.</p>
<pre><code class="language-sakerscript"><span class="h"># indent local declarations by 1, on the same level as expressions</span>
<span class="g">foreach </span><span class="d">$item</span><span class="g"> in </span><span class="d">$iterable</span><span class="g">
	with </span><span class="d">$local</span> {
	<span class="h"># ...	</span>
}
</code></pre>
<h2 id="ordering">Ordering<a class="doc-heading-anchor" href="#ordering"></a></h2>
<p>The elements in the source files should have the following order:</p>
<ol>
<li>Global variable assignments</li>
<li>Static variable assignments</li>
<li>Global expressions</li>
<li>Publicly invokeable build targets</li>
<li>Internal build targets</li>
</ol>
<pre><code class="language-sakerscript"><span class="a">global(</span><span class="d">global.VAR</span><span class="a">)</span> = <span class="b">123</span>
<span class="a">static(</span><span class="d">STATIC_VAR</span><span class="a">)</span> = <span class="b">456</span>
<span class="a">global.expression.task()</span>
<span class="j">build</span> <span class="e">{</span>
	<span class="h"># ...</span>
<span class="e">}</span>
<span class="j">_private_build_target</span> <span class="e">{</span>
	<span class="h"># ...</span>
<span class="e">}</span>
</code></pre>
<p>Expressions in build targets or among the global expressions should be ordered in a way that it can be semantically followed. Generally this is the order that the build process would do if the execution was sequential. (When possible to declare them this way.)</p>
<p>We strongly advise against declaring expressions in the following order:</p>
<pre><code class="language-sakerscript"><span class="a">example.compile.sources(</span><span class="c">SourceDirectory</span>: <span class="d">$sourcedir</span><span class="a">)</span>
<span class="d">$sourcedir</span> = <span class="b">src</span>
</code></pre>
<p>You see that the <code>$sourcedir</code> variable is assigned <em>after</em> it is being used. This can be counterintuitive for the reader. We recommend declaring the inputs of an expression before they are being used in that expression.</p>
<link href="../../../css/sakerscript.css"  rel="stylesheet" type="text/css" /></div>
			<div class="end-section-links">
				<div class="end-section-prev">
					<a class="doc-prev-section" href="../../doc/guide/cmdlineref/licenses.html" title="licenses"><svg class="doc-section-arrow" viewBox="0 0 24 24">
    <path fill="currentColor" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" />
</svg>licenses</a>
				</div>
				<div class="end-section-next">
					<a class="doc-next-section" href="../../doc/guide/bestpractices.html" title="Best practices">Best practices<svg class="doc-section-arrow" viewBox="0 0 24 24">
    <path fill="currentColor" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" />
</svg></a>
				</div>
			</div>
			<div class="doc-headings-nav">  <ul>    <li><a href="#build-script-style-guide" title="Build script style guide">Build script style guide</a>      <ul>        <li><a href="#consistent-style" title="Consistent style">Consistent style</a>        </li>        <li><a href="#naming" title="Naming">Naming</a>          <ul>            <li><a href="#build-targets" title="Build targets">Build targets</a>            </li>            <li><a href="#parameters" title="Parameters">Parameters</a>            </li>            <li><a href="#variables" title="Variables">Variables</a>              <ul>                <li><a href="#build-target-variables" title="Build target variables">Build target variables</a>                </li>                <li><a href="#static-variables" title="Static variables">Static variables</a>                </li>                <li><a href="#global-variables" title="Global variables">Global variables</a>                </li>              </ul>            </li>            <li><a href="#task-parameters" title="Task parameters">Task parameters</a>            </li>          </ul>        </li>        <li><a href="#calling-tasks" title="Calling tasks">Calling tasks</a>        </li>        <li><a href="#literals" title="Literals">Literals</a>        </li>        <li><a href="#compound-literals" title="Compound literals">Compound literals</a>        </li>        <li><a href="#whitespace" title="Whitespace">Whitespace</a>        </li>        <li><a href="#indentation" title="Indentation">Indentation</a>        </li>        <li><a href="#ordering" title="Ordering">Ordering</a>        </li>      </ul>    </li>  </ul></div>
		</div>
	</div>
</div>
<div class="doc-footer">
	<div class="container">
		<div class="row">
			<div class="footer-section col-6 col-sm-4 col-md-3">
				<p class="footer-section-title">About</p>
				<div><a href="/index.html" title="Saker.build home page">Home</a></div>
				<div data-footer-location="doc-docs"><a href="../../index.html" title="saker.build documentation home">Documentation home</a></div>
				<div><a href="../../../saker.build/index.html" title="Information about the saker.build system">saker.build system</a></div>
				<div><a href="../../../saker.nest/index.html" title="Information about the saker.nest repository">saker.nest repository</a></div>
				<div><a href="/contact.html" title="Contact us">Contact</a></div>
			</div>
			<div class="footer-section col-6 col-sm-4 col-md-3">
				<p class="footer-section-title">Resources</p>
				<div data-footer-location="doc-docs"><a href="../../doc/index.html" title="saker.build documentation home">Documentation</a></div>
				<div data-footer-location="doc-javadoc"><a href="../../javadoc/index.html" title="JavaDoc for saker.build">JavaDoc</a></div>
				<div data-footer-location="doc-taskdoc"><a href="../../taskdoc/index.html"  title="Documentation of build tasks in saker.build">TaskDoc</a></div>
				<div data-footer-location="nest-package"><a href="https://nest.saker.build/package/saker.build" title="saker.build | saker.nest">saker.nest package page</a></div>
				<div><a href="https://github.com/sakerbuild/saker.build" title="saker.build on GitHub">GitHub</a></div>
			</div>
		</div>	
		<div class="row">
			<div class="col">
			&copy; Bence Sipka 2020
			</div>
		</div>
	</div>
</div>


<script>
if(window.hasOwnProperty("hljs")){
	hljs.configure({
	  languages: []
	});
	hljs.initHighlightingOnLoad();
}
</script>

</body>
</html>